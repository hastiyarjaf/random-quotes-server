import{r as O,g as _,a as D}from"./vendor-C8w-UNLI.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))t(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function o(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function t(a){if(a.ep)return;a.ep=!0;const c=o(a);fetch(a.href,c)}})();var S={exports:{}},q={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L;function B(){if(L)return q;L=1;var s=O(),n=Symbol.for("react.element"),o=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function i(u,h,v){var j,x={},l=null,r=null;v!==void 0&&(l=""+v),h.key!==void 0&&(l=""+h.key),h.ref!==void 0&&(r=h.ref);for(j in h)t.call(h,j)&&!c.hasOwnProperty(j)&&(x[j]=h[j]);if(u&&u.defaultProps)for(j in h=u.defaultProps,h)x[j]===void 0&&(x[j]=h[j]);return{$$typeof:n,type:u,key:l,ref:r,props:x,_owner:a.current}}return q.Fragment=o,q.jsx=i,q.jsxs=i,q}var P;function T(){return P||(P=1,S.exports=B()),S.exports}var e=T(),d=O();const Q=_(d);var C={},I;function W(){if(I)return C;I=1;var s=D();return C.createRoot=s.createRoot,C.hydrateRoot=s.hydrateRoot,C}var F=W();const V=_(F);function H({health:s}){var n;return e.jsx("header",{className:"header",children:e.jsxs("div",{className:"header-content",children:[e.jsxs("div",{className:"logo",children:[e.jsx("img",{src:"/quote.svg",alt:"Random Quotes",className:"logo-icon"}),e.jsx("h1",{className:"logo-text",children:"Random Quotes"})]}),e.jsxs("nav",{className:"nav",children:[e.jsx("a",{href:"#quotes",className:"nav-link",children:"Browse Quotes"}),e.jsx("a",{href:"#chat",className:"nav-link",children:"AI Chat"}),s&&e.jsxs("div",{className:"status-indicator",children:[e.jsx("div",{className:"status-dot online"}),e.jsxs("span",{className:"status-text",children:[((n=s.quotes)==null?void 0:n.total)||0," quotes"]})]})]})]})})}function M({quote:s,loading:n,onRefresh:o,featured:t=!1}){return n?e.jsx("div",{className:`quote-card ${t?"featured":""}`,children:e.jsxs("div",{className:"quote-card-loading",children:[e.jsx("div",{className:"loading-spinner large"}),e.jsx("p",{children:"Loading inspiring quote..."})]})}):s?e.jsxs("div",{className:`quote-card ${t?"featured":""}`,children:[e.jsxs("div",{className:"quote-content",children:[e.jsxs("blockquote",{className:"quote-text",children:['"',s.text,'"']}),e.jsxs("footer",{className:"quote-footer",children:[e.jsxs("cite",{className:"quote-author",children:["— ",s.author]}),s.id&&e.jsxs("span",{className:"quote-id",children:["#",s.id]})]})]}),o&&e.jsx("div",{className:"quote-actions",children:e.jsxs("button",{onClick:o,className:"button button-secondary",title:"Get another quote",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"23 4 23 10 17 10"}),e.jsx("polyline",{points:"1 20 1 14 7 14"}),e.jsx("path",{d:"m3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})]}),"New Quote"]})}),e.jsxs("div",{className:"quote-decorations",children:[e.jsx("div",{className:"quote-mark quote-mark-open",children:'"'}),e.jsx("div",{className:"quote-mark quote-mark-close",children:'"'})]})]}):e.jsx("div",{className:`quote-card ${t?"featured":""}`,children:e.jsxs("div",{className:"quote-card-error",children:[e.jsx("p",{children:"No quote available"}),o&&e.jsx("button",{onClick:o,className:"button button-outline",children:"Try Again"})]})})}const J="/api";class R extends Error{constructor(n,o,t){super(n),this.name="ApiError",this.status=o,this.data=t}}async function w(s,n={}){const o=`${J}${s}`;try{const t=await fetch(o,{headers:{"Content-Type":"application/json",...n.headers},...n}),a=await t.json();if(!t.ok)throw new R(a.message||`HTTP ${t.status}`,t.status,a);return a}catch(t){throw t instanceof R?t:new R(t.message||"Network error occurred",0,null)}}const k={async getRandomQuote(){return w("/v1/quote")},async getQuotes(s={}){const n=new URLSearchParams(s).toString(),o=`/v1/quotes${n?`?${n}`:""}`;return w(o)},async getQuoteById(s){return w(`/v1/quotes/${encodeURIComponent(s)}`)},async chat(s,n="en",o=[]){return w("/v1/chat",{method:"POST",body:JSON.stringify({message:s,language:n,history:o.slice(-10)})})},async getHealth(){return w("/../health")}};function U(){const[s,n]=d.useState([]),[o,t]=d.useState(!1),[a,c]=d.useState(null),[i,u]=d.useState({page:1,limit:12,total:0,totalPages:0}),h=async(x={})=>{t(!0),c(null);try{const l=await k.getQuotes({page:i.page,limit:i.limit,...x});n(l.quotes),u({page:l.page,limit:l.limit,total:l.total,totalPages:l.totalPages})}catch(l){c(l.message),n([])}finally{t(!1)}},v=async(x,l=1)=>{const r={page:l,limit:i.limit};x&&x.trim()&&(r.contains=x.trim()),u(m=>({...m,page:l})),await h(r)},j=async x=>{x>=1&&x<=i.totalPages&&(u(l=>({...l,page:x})),await h({page:x}))};return d.useEffect(()=>{h()},[]),{quotes:s,loading:o,error:a,pagination:i,searchQuotes:v,changePage:j,reload:h}}function G(){const[s,n]=d.useState(null),[o,t]=d.useState(!1),[a,c]=d.useState(null),i=async()=>{t(!0),c(null);try{const u=await k.getRandomQuote();n(u.quote)}catch(u){c(u.message)}finally{t(!1)}};return d.useEffect(()=>{i()},[]),{quote:s,loading:o,error:a,refresh:i}}function z(){const{quotes:s,loading:n,error:o,pagination:t,searchQuotes:a,changePage:c}=U(),[i,u]=d.useState(""),[h,v]=d.useState(!1),j=async r=>{r.preventDefault(),v(!0);try{await a(i,1)}finally{v(!1)}},x=r=>{var m;c(r),(m=document.querySelector(".quotes-section"))==null||m.scrollIntoView({behavior:"smooth",block:"start"})},l=()=>{const r=[],m=t.totalPages,p=t.page;if(m<=7)for(let f=1;f<=m;f++)r.push(f);else{r.push(1),p>3&&r.push("...");for(let f=Math.max(2,p-1);f<=Math.min(m-1,p+1);f++)r.push(f);p<m-2&&r.push("..."),m>1&&r.push(m)}return r};return e.jsxs("div",{className:"quotes-list",id:"quotes",children:[e.jsxs("div",{className:"search-section",children:[e.jsx("form",{onSubmit:j,className:"search-form",children:e.jsxs("div",{className:"search-input-group",children:[e.jsx("input",{type:"text",placeholder:"Search quotes by text or author...",value:i,onChange:r=>u(r.target.value),className:"input search-input",disabled:h}),e.jsxs("button",{type:"submit",className:"button search-button",disabled:h,children:[h?e.jsx("div",{className:"loading-spinner"}):e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),"Search"]})]})}),i&&e.jsxs("div",{className:"search-info",children:[e.jsx("p",{children:t.total>0?e.jsxs(e.Fragment,{children:["Showing ",t.total," result",t.total!==1?"s":"",' for "',i,'"']}):e.jsxs(e.Fragment,{children:['No results found for "',i,'"']})}),e.jsx("button",{onClick:()=>{u(""),a("",1)},className:"button button-outline clear-search",children:"Clear Search"})]})]}),o&&e.jsxs("div",{className:"error-message",children:["Error loading quotes: ",o]}),n?e.jsxs("div",{className:"quotes-loading",children:[e.jsx("div",{className:"loading-spinner large"}),e.jsx("p",{children:"Loading quotes..."})]}):s.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"quotes-grid",children:s.map(r=>e.jsx(M,{quote:r},r.id))}),t.totalPages>1&&e.jsxs("div",{className:"pagination",children:[e.jsx("div",{className:"pagination-info",children:e.jsxs("p",{children:["Showing ",s.length," of ",t.total," quotes (Page ",t.page," of ",t.totalPages,")"]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsxs("button",{onClick:()=>x(t.page-1),disabled:t.page===1,className:"button button-outline pagination-btn",title:"Previous page",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"15,18 9,12 15,6"})}),"Previous"]}),e.jsx("div",{className:"pagination-numbers",children:l().map((r,m)=>r==="..."?e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${m}`):e.jsx("button",{onClick:()=>x(r),className:`button pagination-number ${r===t.page?"active":"button-outline"}`,children:r},r))}),e.jsxs("button",{onClick:()=>x(t.page+1),disabled:t.page===t.totalPages,className:"button button-outline pagination-btn",title:"Next page",children:["Next",e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"9,18 15,12 9,6"})})]})]})]})]}):e.jsxs("div",{className:"no-quotes",children:[e.jsx("div",{className:"no-quotes-icon",children:e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z"}),e.jsx("path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z"})]})}),e.jsx("h3",{children:"No quotes found"}),e.jsx("p",{children:"Try adjusting your search terms or browse all quotes."})]})]})}const y={en:{name:"English",direction:"ltr",code:"en"},ar:{name:"العربية",direction:"rtl",code:"ar"},ckb:{name:"کوردی",direction:"rtl",code:"ckb"}};function K(){const[s,n]=d.useState([]),[o,t]=d.useState(!1),[a,c]=d.useState("en"),[i,u]=d.useState(null),h=d.useCallback(async l=>{if(!l.trim())return;const r={id:Date.now(),role:"user",content:l.trim(),timestamp:new Date().toISOString()};n(m=>[...m,r]),t(!0),u(null);try{const m=s.slice(-10).map(N=>({role:N.role==="user"?"user":"assistant",content:N.content})),p=await k.chat(l,a,m),f={id:Date.now()+1,role:"assistant",content:p.response,timestamp:new Date().toISOString(),language:p.language,direction:p.direction,provider:p.provider,quote:p.quote,fallback:p.fallback};n(N=>[...N,f]),p.direction&&document.documentElement.setAttribute("dir",p.direction)}catch(m){u(m.message);const p={id:Date.now()+1,role:"assistant",content:`Sorry, I encountered an error: ${m.message}. Please try again.`,timestamp:new Date().toISOString(),error:!0};n(f=>[...f,p])}finally{t(!1)}},[s,a]),v=d.useCallback(l=>{if(y[l]){c(l);const r=y[l].direction;document.documentElement.setAttribute("dir",r);const m={id:Date.now(),role:"system",content:`Language changed to ${y[l].name}`,timestamp:new Date().toISOString()};n(p=>[...p,m])}},[]),j=d.useCallback(()=>{n([]),u(null),document.documentElement.setAttribute("dir","ltr")},[]),x=d.useCallback(()=>y[a]||y.en,[a]);return{messages:s,isTyping:o,language:a,error:i,sendMessage:h,changeLanguage:v,clearChat:j,getCurrentLanguageConfig:x,availableLanguages:y}}const A="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3cpath%20d='M21%2015a2%202%200%200%201-2%202H7l-4%204V5a2%202%200%200%201%202-2h14a2%202%200%200%201%202%202z'/%3e%3c/svg%3e";function Y(){const[s,n]=d.useState(!1),[o,t]=d.useState(""),a=d.useRef(null),c=d.useRef(null),{messages:i,isTyping:u,language:h,sendMessage:v,changeLanguage:j,clearChat:x,getCurrentLanguageConfig:l,availableLanguages:r}=K();d.useEffect(()=>{s&&a.current&&a.current.scrollIntoView({behavior:"smooth"})},[i,u,s]),d.useEffect(()=>{s&&c.current&&setTimeout(()=>{c.current.focus()},300)},[s]);const m=async g=>{if(g.preventDefault(),!o.trim()||u)return;const b=o.trim();t(""),await v(b)},p=g=>{j(g)},f=g=>g.split(`
`).map((b,E,$)=>e.jsxs(Q.Fragment,{children:[b,E<$.length-1&&e.jsx("br",{})]},E)),N=l();return e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:`chat-toggle ${s?"open":""}`,onClick:()=>n(!s),"aria-label":s?"Close AI chat":"Open AI chat",title:s?"Close chat":"Chat with AI",children:[e.jsx("img",{src:A,alt:"Chat",className:"chat-icon"}),i.length>0&&!s&&e.jsx("div",{className:"chat-badge",children:i.length>99?"99+":i.length})]}),e.jsxs("div",{className:`chat-widget ${s?"open":""}`,id:"chat",children:[e.jsxs("div",{className:"chat-header",children:[e.jsxs("div",{className:"chat-title",children:[e.jsx("h3",{children:"AI Wisdom Chat"}),e.jsx("p",{children:"Ask for quotes and wisdom in your language"})]}),e.jsx("div",{className:"language-selector",children:e.jsx("select",{value:h,onChange:g=>p(g.target.value),className:"language-select","aria-label":"Select language",children:Object.entries(r).map(([g,b])=>e.jsx("option",{value:g,children:b.name},g))})}),e.jsxs("div",{className:"chat-controls",children:[e.jsx("button",{onClick:x,className:"button button-outline clear-btn",title:"Clear chat history","aria-label":"Clear chat history",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3,6 5,6 21,6"}),e.jsx("path",{d:"m19,6v14a2,2 0,0 1,-2,2H7a2,2 0,0 1,-2,-2V6m3,0V4a2,2 0,0 1,2,-2h4a2,2 0,0 1,2,2v2"}),e.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),e.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),e.jsx("button",{onClick:()=>n(!1),className:"button button-outline close-btn",title:"Close chat","aria-label":"Close chat",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsxs("div",{className:"chat-messages",dir:N.direction,children:[i.length===0&&e.jsxs("div",{className:"chat-welcome",children:[e.jsx("div",{className:"welcome-icon",children:e.jsx("img",{src:A,alt:"Chat"})}),e.jsx("h4",{children:"Welcome to AI Wisdom Chat!"}),e.jsx("p",{children:"Ask me for quotes about any topic, request wisdom, or just have a conversation. I speak English, Arabic, and Sorani Kurdish!"}),e.jsxs("div",{className:"example-questions",children:[e.jsx("p",{children:"Try asking:"}),e.jsxs("ul",{children:[e.jsx("li",{children:'"Give me a quote about success"'}),e.jsx("li",{children:'"اقتباس عن الحياة" (Arabic)'}),e.jsx("li",{children:'"وتەیەک لەسەر خۆشەویستی" (Kurdish)'})]})]})]}),i.map(g=>e.jsx("div",{className:`message ${g.role} ${g.error?"error":""}`,children:e.jsxs("div",{className:"message-content",children:[e.jsx("div",{className:"message-text",children:f(g.content)}),g.quote&&e.jsxs("div",{className:"message-quote",children:[e.jsxs("blockquote",{children:['"',g.quote.text,'"']}),e.jsxs("cite",{children:["— ",g.quote.author]})]}),e.jsxs("div",{className:"message-meta",children:[e.jsx("time",{className:"message-time",children:new Date(g.timestamp).toLocaleTimeString()}),g.provider&&e.jsxs("span",{className:"message-provider",children:[g.provider==="fallback"&&"🤖",g.provider==="gemini"&&"✨"]})]})]})},g.id)),u&&e.jsx("div",{className:"message assistant typing",children:e.jsx("div",{className:"message-content",children:e.jsxs("div",{className:"typing-indicator",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]})})}),e.jsx("div",{ref:a})]}),e.jsxs("form",{onSubmit:m,className:"chat-input-form",children:[e.jsxs("div",{className:"chat-input-group",children:[e.jsx("input",{ref:c,type:"text",value:o,onChange:g=>t(g.target.value),placeholder:h==="ar"?"اكتب رسالتك هنا...":h==="ckb"?"پەیامەکەت لێرە بنووسە...":"Type your message here...",className:"chat-input",disabled:u,maxLength:1e3,dir:N.direction}),e.jsx("button",{type:"submit",disabled:!o.trim()||u,className:"chat-send-btn",title:"Send message","aria-label":"Send message",children:u?e.jsx("div",{className:"loading-spinner"}):e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),e.jsx("polygon",{points:"22,2 15,22 11,13 2,9 22,2"})]})})]}),e.jsxs("div",{className:"character-count",children:[o.length,"/1000"]})]})]}),s&&e.jsx("div",{className:"chat-overlay",onClick:()=>n(!1)})]})}function X(){const{quote:s,loading:n,refresh:o}=G(),[t,a]=d.useState(null);return d.useEffect(()=>{k.getHealth().then(a).catch(c=>console.warn("Health check failed:",c.message))},[]),e.jsxs("div",{className:"app",children:[e.jsx(H,{health:t}),e.jsxs("main",{className:"main-content",children:[e.jsx("section",{className:"hero-section",children:e.jsxs("div",{className:"hero-content",children:[e.jsx("h1",{className:"hero-title",children:"Discover Wisdom"}),e.jsx("p",{className:"hero-subtitle",children:"Explore inspiring quotes and chat with AI for personalized wisdom"}),e.jsx(M,{quote:s,loading:n,onRefresh:o,featured:!0})]})}),e.jsxs("section",{className:"quotes-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"Explore Our Collection"}),e.jsx("p",{children:"Browse, search, and discover quotes that inspire you"})]}),e.jsx(z,{})]})]}),e.jsx(Y,{}),e.jsx("footer",{className:"footer",children:e.jsxs("div",{className:"footer-content",children:[e.jsx("p",{children:"© 2024 Random Quotes. Powered by AI wisdom."}),t&&e.jsxs("p",{className:"footer-stats",children:[t.quotes.total," quotes available"]})]})})]})}V.createRoot(document.getElementById("root")).render(e.jsx(Q.StrictMode,{children:e.jsx(X,{})}));
